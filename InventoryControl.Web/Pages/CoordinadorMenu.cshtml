@page
@using Microsoft.EntityFrameworkCore
@using Microsoft.EntityFrameworkCore.ChangeTracking
@model InventoryControlPages.CoordinadorModel
@addTagHelper *,Microsoft.AspNetCore.Mvc.TagHelpers
@using AlmacenSQLiteEntities;
@using AlmacenDataContext;

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="~/styles.css">
    <script src="~/script.js" defer></script>
    <title>Usuarios</title>
</head>
<body>
    <div class="welcome-title titles">
        <h1 id="Inicio">Bienvenido, @Model.coordinador.Nombre @Model.coordinador.ApellidoPaterno</h1>
        <br>
        <p>Coordinador</p>
    </div>
    <div class="titles" onclick="toggleContent()">
        <h1><a href="#SApDContent">Solicitudes Aprobadas proximas Docentes</a></h1>
    </div>
        <div class="table-database hidden-content open" id="SApDContent">
            <table border="1">
                <thead>
                    <tr>
                        <td><p>Id</p></td>
                        <td><p>Laboratorio</p></td>
                        <td><p>Hora de entrega</p></td>
                        <td><p>Hora de devolucion</p></td>
                        <td><p>Docente</p></td>
                        <td><p>Estado</p></td>
                        <td><p>Material</p></td>
                        <td><p>Cantidad</p></td>
                        <td><p>Aprobacion</p></td>
                    </tr>
                </thead>
                <tbody>
                    @{using(Almacen db = new ()){
                            IQueryable<DescPedido>? descPedidos = db.DescPedidos.Include(d => d.Pedido).Include(d => d.Material).Where(d => d.Pedido.DocenteId != null && d.Pedido.EstudianteId == null && d.Pedido.Fecha.Value.Date > DateTime.Now.Date).OrderBy(d => d.Pedido.Fecha);
                                if(descPedidos is null || !descPedidos.Any()){
                                    <tr>
                                        <td><p class="text-danger">No tiene solicitudes aprobadas proximas para docentes</p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                    </tr>
                                }
                                else{
                                    foreach(var p in descPedidos){
                                    <tr>
                                        <td id="id">@p.Pedido.PedidoId</td>
                                        <td id="campos">@p.Pedido.Laboratorio.Nombre</td>
                                        <td id="campos">@p.Pedido.HoraEntrega</td>
                                        <td id="campos">@p.Pedido.HoraDevolucion</td>
                                        <td id="campos">@p.Pedido.Docente.Nombre</td>
                                        <td id="campos">@p.Pedido.Estado</td>
                                        <td id="campos">@p.Material.Categoria.Nombre</td>
                                        <td id="campos">@p.Cantidad</td>
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="DeleteOrder">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="pedidoId" value="@p.Pedido.PedidoId" />
                                            <button type="submit">Delete</button>
                                        </form>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    }
                </tbody>
            </table>
        </div>

    <div class="titles" onclick="toggleContent()">
        <h1><a href="#SApEContent">Solicitudes Aprobadas proximas Estudiantes</a></h1>
    </div>
    <div class="table-database hidden-content open" id="SApEContent">
            <table border="1">
                <thead>
                    <tr>
                        <td><p>Id</p></td>
                        <td><p>Laboratorio</p></td>
                        <td><p>Hora de entrega</p></td>
                        <td><p>Hora de devolucion</p></td>
                        <td><p>Docente</p></td>
                        <td><p>Estado</p></td>
                        <td><p>Material</p></td>
                        <td><p>Cantidad</p></td>
                        <td><p>Estudiante</p></td>
                        <td><p>Aprobacion</p></td>
                    </tr>
                </thead>
                <tbody>
                    @{using(Almacen db = new ()){
                            IQueryable<DescPedido>? descPedidos = db.DescPedidos.Include(d => d.Pedido).Include(d => d.Material).Where(d => d.Pedido.DocenteId != null && d.Pedido.EstudianteId != null && d.Pedido.Estado == true && d.Pedido.Fecha.Value.Date > DateTime.Now.Date).OrderBy(d => d.Pedido.Fecha);
                                if(descPedidos is null || !descPedidos.Any()){
                                    <tr>
                                        <td><p class="text-danger">No tiene solicitudes aprobadas proximas para estudiantes</p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                    </tr>
                                }
                                else{
                                    foreach(var p in descPedidos){
                                    <tr>
                                        <td id="id">@p.Pedido.PedidoId</td>
                                        <td id="campos">@p.Pedido.Laboratorio.Nombre</td>
                                        <td id="campos">@p.Pedido.HoraEntrega</td>
                                        <td id="campos">@p.Pedido.HoraDevolucion</td>
                                        <td id="campos">@p.Pedido.Docente.Nombre</td>
                                        <td id="campos">@p.Pedido.Estado</td>
                                        <td id="campos">@p.Material.Categoria.Nombre</td>
                                        <td id="campos">@p.Cantidad</td>
                                        <td id="campos">@p.Pedido.Estudiante.Nombre</td>
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="DeleteOrder">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="pedidoId" value="@p.Pedido.PedidoId" />
                                            <button type="submit">Delete</button>
                                        </form>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    }
                </tbody>
            </table>
        </div>

    <div class="titles" onclick="toggleContent()">
        <h1><a href="#SNApEContent">Solicitudes No Aprobadas proximas Estudiantes</a></h1>
    </div>
        <div class="table-database hidden-content open" id="SNApEContent">
            <table border="1">
                <thead>
                    <tr>
                        <td><p>Id</p></td>
                        <td><p>Laboratorio</p></td>
                        <td><p>Hora de entrega</p></td>
                        <td><p>Hora de devolucion</p></td>
                        <td><p>Docente</p></td>
                        <td><p>Estado</p></td>
                        <td><p>Material</p></td>
                        <td><p>Cantidad</p></td>
                        <td><p>Estudiante</p></td>
                        <td><p>Aprobacion</p></td>
                    </tr>
                </thead>
                <tbody>
                    @{using(Almacen db = new ()){
                            IQueryable<DescPedido>? descPedidos = db.DescPedidos.Include(d => d.Pedido).Include(d => d.Material).Where(d => d.Pedido.EstudianteId != null && d.Pedido.Estado == false && d.Pedido.Fecha.Value.Date > DateTime.Now.Date).OrderBy(d => d.Pedido.Fecha);
                                if(descPedidos is null || !descPedidos.Any()){
                                    <tr>
                                        <td><p class="text-danger">No tiene solicitudes no aprobadas proximas para estudiantes</p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                    </tr>
                                }
                                else{
                                    foreach(var p in descPedidos){
                                    <tr>
                                        <td id="id">@p.Pedido.PedidoId</td>
                                        <td id="campos">@p.Pedido.Laboratorio.Nombre</td>
                                        <td id="campos">@p.Pedido.HoraEntrega</td>
                                        <td id="campos">@p.Pedido.HoraDevolucion</td>
                                        <td id="campos">@p.Pedido.Docente.Nombre</td>
                                        <td id="campos">@p.Pedido.Estado</td>
                                        <td id="campos">@p.Material.Categoria.Nombre</td>
                                        <td id="campos">@p.Cantidad</td>
                                        <td id="campos">@p.Pedido.Estudiante.Nombre</td>
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="Approve">
                                            <input type="hidden" name="pedidoId" value="@p.Pedido.PedidoId" />
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <button type="submit">Aprobar</button>
                                        </form>
                                        <form method="POST" asp-page-handler="Decline">
                                            <input type="hidden" name="pedidoId" value="@p.Pedido.PedidoId" />
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <button type="submit">Denegar</button>
                                        </form>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    }
                </tbody>
            </table>
        </div>

    <div class="titles" onclick="toggleContent()">
        <h1><a href="#HTSContent">Historial Total de Solicitudes</a></h1>
    </div>
    <div class="table-database hidden-content open" id="HTSContent">
            <table border="1">
                <thead>
                    <tr>
                        <td><p>Id</p></td>
                        <td><p>Laboratorio</p></td>
                        <td><p>Hora de entrega</p></td>
                        <td><p>Hora de devolucion</p></td>
                        <td><p>Docente</p></td>
                        <td><p>Estado</p></td>
                        <td><p>Material</p></td>
                        <td><p>Cantidad</p></td>
                        <td><p>Estudiante</p></td>
                        <td><p>Aprobacion</p></td>
                    </tr>
                </thead>
                <tbody>
                    @{using(Almacen db = new ()){
                            IQueryable<DescPedido>? descPedidos = db.DescPedidos.Include(d => d.Pedido).Include(d => d.Material).Where(d => d.Pedido.Fecha.Value.Date < DateTime.Now.Date).OrderBy(d => d.Pedido.Fecha);
                                if(descPedidos is null || !descPedidos.Any()){
                                    <tr>
                                        <td><p class="text-danger">No tiene solicitudes anteriores</p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                    </tr>
                                }
                                else{
                                    foreach(var p in descPedidos){
                                    <tr>
                                        <td id="id">@p.Pedido.PedidoId</td>
                                        <td id="campos">@p.Pedido.Laboratorio.Nombre</td>
                                        <td id="campos">@p.Pedido.HoraEntrega</td>
                                        <td id="campos">@p.Pedido.HoraDevolucion</td>
                                        @if(p.Pedido.DocenteId is not null){
                                            <td id="campos">@p.Pedido.Docente.Nombre</td>
                                        }
                                        else{
                                            <td id="campos"></td>
                                        }
                                        <td id="campos">@p.Pedido.Estado</td>
                                        <td id="campos">@p.Material.Categoria.Nombre</td>
                                        <td id="campos">@p.Cantidad</td>
                                        @if(p.Pedido.EstudianteId is not null){
                                            <td id="campos">@p.Pedido.Estudiante.Nombre</td>
                                        }
                                        else{
                                            <td id="campos"></td>
                                        }
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="DeleteOrder">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="pedidoId" value="@p.Pedido.PedidoId" />
                                            <button type="submit">Delete</button>
                                        </form>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
    <div class="titles" onclick="toggleContent()">
            <h1 id="Pedido"><a href="#hacerPedidoContent">Hacer un pedido</a></h1>
        </div>
    <div class="insert-database hidden-content open" id="hacerPedidoContent">
        <div>
            <p>Nuevo pedido</p>
            <form method="POST" onsubmit="recargarPagina()" asp-page-handler="NewOrder">
                <div class="fields-table">
                    <label for="Fecha">Fecha y Hora de entrega:
                        <input asp-for="pedido.Fecha" placeholder="Fecha" class="form-control" required>
                    </label>
                    <span asp-validation-for="pedido.Fecha" class="text-danger"></span>

                    <label for="horaDevolucion">Hora de Devolución:
                        <input asp-for="pedido.HoraDevolucion" placeholder="HoraDevolucion" class="form-control" required>
                    </label>
                    <span asp-validation-for="pedido.HoraDevolucion" class="text-danger"></span>

                    <select asp-for="pedido.LaboratorioId" placeholder="Laboratorio" class="fields-table" required>
                        <option value="">Selecciona un laboratorio</option>
                        @{
                            using (Almacen db = new Almacen())
                            {
                                List<Laboratorio> laboratorio = db.Laboratorios.ToList();

                                foreach (var lab in laboratorio)
                                {
                                    <option value="@lab.LaboratorioId">@lab.Nombre</option>
                                }
                            }
                        }
                    </select>
                    <span asp-validation-for="pedido.LaboratorioId" class="text-danger"></span>

                    <select asp-for="categoria.CategoriaId" placeholder="Material" class="fields-table" required>
                        <option value="">Selecciona una categoria</option>
                        @{
                            using (Almacen db = new Almacen())
                            {
                                IQueryable<Categoria> categorias = db.Categorias.Where(c => c.Acceso == "1" || c.Acceso == "2");

                                foreach (var c in categorias)
                                {
                                    <option value="@c.CategoriaId">@c.Nombre</option>
                                }
                            }
                        }
                    </select>
                    <span asp-validation-for="categoria.CategoriaId" class="text-danger"></span>

                    <input asp-for="descPedido.Cantidad" placeholder="Cantidad" class="form-control" required>
                    <span asp-validation-for="descPedido.Cantidad" class="text-danger"></span>

                    <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId" />
                    <span asp-validation-for="pedido.EstudianteId" class="text-danger"></span>

                    <span class="text-danger">@Model.ErrorMessage</span>
                    <input id="enviar" type="submit" />
                </div>
            </form>
        </div>
    </div>
    <div class="titles" onclick="toggleContent()">
        <h1><a href="#cContent">Categorias</a></h1>
    </div>
    <div class="content-container hidden-content open" id="cContent">
        <div class="insert-database open">
            <div>
                <p>Nueva categoria</p>
                <form method="POST" asp-page-handler="NewCat">
                    <div class="fields-table">
                        <input asp-for="categoria.Nombre" placeholder="Nombre" class="form-control">
                        <span asp-validation-for="categoria.Nombre" class="text-danger"></span>

                        <input asp-for="categoria.Descripcion" placeholder="Descripcion" class="form-control" required>
                        <span asp-validation-for="categoria.Descripcion" class="text-danger"></span>

                        <select asp-for="categoria.Acceso" placeholder="Acceso" class="fields-table" required>
                            <option value="1">Todos</option>
                            <option value="2">Solo docentes</option>
                        </select>
                        <span asp-validation-for="categoria.Acceso" class="text-danger"></span>
                        <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId" />
                        <input id="enviar" type="submit" />
                    </div>
                </form>
            </div>
        </div>
        <div class="table-database open">
            <table border="1">
                <thead>
                    <tr>
                        <td><p>Id</p></td>
                        <td><p>Nombre</p></td>
                        <td><p>Descripcion</p></td>
                        <td><p>Eliminar</p></td>
                        <td><p>Modificar</p></td>
                    </tr>
                </thead>
                <tbody>
                    @{using(Almacen db = new ()){
                                if(db.Categorias is null || !db.Categorias.Any()){
                                    <tr>
                                        <td><p class="text-danger">No hay categorias registradas</p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                    </tr>
                                }
                                else{
                                    foreach(var c in db.Categorias){
                                    <tr>
                                        <td id="id">@c.CategoriaId</td>
                                        <td id="campos">@c.Nombre</td>
                                        <td id="campos">@c.Descripcion</td>
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="DeleteCategoria">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="categoriaId" value="@c.CategoriaId" />
                                            <button type="submit">Delete</button>
                                        </form>
                                        </td>
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="Update">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="registroId" value="@c.CategoriaId" />
                                            <input type="hidden" name="tableId" value="categoria" />
                                            <button type="submit">Update</button>
                                        </form>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    <div class="titles" onclick="toggleContent()">
        <h1><a href="#marcaContent">Marca</a></h1>
    </div>
    <div class="content-container hidden-content open" id="marcaContent">
        <div class="insert-database open">
            <div>
                <p>Nueva marca</p>
                <form method="POST" asp-page-handler="NewMarca">
                    <div class="fields-table">
                        <input asp-for="marca.Nombre" placeholder="Nombre" class="form-control">
                        <span asp-validation-for="marca.Nombre" class="text-danger"></span>

                        <input asp-for="marca.Descripcion" placeholder="Descripcion" class="form-control" required>
                        <span asp-validation-for="marca.Descripcion" class="text-danger"></span>

                        <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId" />
                        <input id="enviar" type="submit" />
                    </div>
                </form>
            </div>
        </div>
        <div class="table-database open">
            <table border="1">
                <thead>
                    <tr>
                        <td><p>Id</p></td>
                        <td><p>Nombre</p></td>
                        <td><p>Descripcion</p></td>
                        <td><p>Eliminar</p></td>
                        <td><p>Modificar</p></td>
                    </tr>
                </thead>
                <tbody>
                    @{using(Almacen db = new ()){
                                if(db.Marcas is null || !db.Marcas.Any()){
                                    <tr>
                                        <td><p class="text-danger">No hay Marcas registradas</p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                    </tr>
                                }
                                else{
                                    foreach(var c in db.Marcas){
                                    <tr>
                                        <td id="id">@c.MarcaId</td>
                                        <td id="campos">@c.Nombre</td>
                                        <td id="campos">@c.Descripcion</td>
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="DeleteMarca">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="marcaId" value="@c.MarcaId" />
                                            <button type="submit">Delete</button>
                                        </form>
                                        </td>
                                        <td id="campos" type="hidden">
                                        <form method="POST" asp-page-handler="Update">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="registroId" value="@c.MarcaId" />
                                            <input type="hidden" name="tableId" value="marca" />
                                            <button type="submit">Update</button>
                                        </form>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    <div class="titles" onclick="toggleContent()">
        <h1><a href="#modeloContent">Modelo</a></h1>
    </div>
    <div class="content-container hidden-content open" id="modeloContent">
        <div class="insert-database open">
            <div>
                <p>Nueva Modelo</p>
                <form method="POST" asp-page-handler="NewModelo">
                    <div class="fields-table">
                        <input asp-for="modelo.Nombre" placeholder="Nombre" class="form-control">
                        <span asp-validation-for="modelo.Nombre" class="text-danger"></span>

                        <input asp-for="modelo.Descripcion" placeholder="Descripcion" class="form-control" required>
                        <span asp-validation-for="modelo.Descripcion" class="text-danger"></span>

                        <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId" />
                        <input id="enviar" type="submit" />
                    </div>
                </form>
            </div>
        </div>
        <div class="table-database open" >
            <table border="1">
                <thead>
                    <tr>
                        <td><p>Id</p></td>
                        <td><p>Nombre</p></td>
                        <td><p>Descripcion</p></td>
                        <td><p>Eliminar</p></td>
                        <td><p>Modificar</p></td>
                    </tr>
                </thead>
                <tbody>
                    @{using(Almacen db = new ()){
                                if(db.Modelos is null || !db.Modelos.Any()){
                                    <tr>
                                        <td><p class="text-danger">No hay Modelos registradas</p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                    </tr>
                                }
                                else{
                                    foreach(var c in db.Modelos){
                                    <tr>
                                        <td id="id">@c.ModeloId</td>
                                        <td id="campos">@c.Nombre</td>
                                        <td id="campos">@c.Descripcion</td>
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="DeleteModelo">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="modeloId" value="@c.ModeloId" />
                                            <button type="submit">Delete</button>
                                        </form>
                                        </td>
                                        <td id="campos" type="hidden">
                                        <form method="POST" asp-page-handler="Update">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="registroId" value="@c.ModeloId" />
                                            <input type="hidden" name="tableId" value="modelo" />
                                            <button type="submit">Update</button>
                                        </form>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    <div class="titles" onclick="toggleContent()">
        <h1><a href="#materialContent">Material</a></h1>
    </div>
    <div class="content-container hidden-content open" id="materialContent">
        <div class="insert-database open">
            <div>
                <p>Nueva Material</p>
                <form method="POST" asp-page-handler="NewMaterial">
                    <div class="fields-table">
                        <select asp-for="material.CategoriaId" placeholder="Categoria" class="fields-table" required>
                            <option value="">Selecciona una categoria</option>
                            @{
                                using (Almacen db = new Almacen())
                                {
                                    List<Categoria> categorias = db.Categorias.ToList();
                                    foreach (var c in categorias)
                                    {
                                        <option value="@c.CategoriaId">@c.Nombre</option>
                                    }
                                }
                            }
                        </select>
                        <span asp-validation-for="material.CategoriaId" class="text-danger"></span>
                        
                        <select asp-for="material.MarcaId" placeholder="Marca" class="fields-table" required>
                            <option value="">Selecciona una Marca</option>
                            @{
                                using (Almacen db = new Almacen())
                                {
                                    List<Marca> marcas = db.Marcas.ToList();
                                    foreach (var c in marcas)
                                    {
                                        <option value="@c.MarcaId">@c.Nombre</option>
                                    }
                                }
                            }
                        </select>
                        <span asp-validation-for="material.MarcaId" class="text-danger"></span>
                        
                        <select asp-for="material.PlantelId" placeholder="Plantel" class="fields-table" required>
                            <option value="">Selecciona un Plantel</option>
                            @{
                                using (Almacen db = new Almacen())
                                {
                                    List<Plantel> planteles = db.Planteles.ToList();
                                    foreach (var c in planteles)
                                    {
                                        <option value="@c.PlantelId">@c.Nombre</option>
                                    }
                                }
                            }
                        </select>
                        <span asp-validation-for="material.PlantelId" class="text-danger"></span>
                        
                        <select asp-for="material.ModeloId" placeholder="Modelo" class="fields-table" required>
                            <option value="">Selecciona un Modelo</option>
                            @{
                                using (Almacen db = new Almacen())
                                {
                                    List<Modelo> modelos = db.Modelos.ToList();
                                    foreach (var c in modelos)
                                    {
                                        <option value="@c.ModeloId">@c.Nombre</option>
                                    }
                                }
                            }
                        </select>
                        <span asp-validation-for="material.ModeloId" class="text-danger"></span>
                        
                        <input asp-for="material.Descripcion" placeholder="Descripcion" class="form-control" required>
                        <span asp-validation-for="material.Descripcion" class="text-danger"></span>
                        
                        <input asp-for="material.YearEntrada" placeholder="Año entrada" class="form-control">
                        <span asp-validation-for="material.YearEntrada" class="text-danger"></span>

                        <input asp-for="material.Serie" placeholder="Serie" class="form-control">
                        <span asp-validation-for="material.Serie" class="text-danger"></span>
                        
                        <input type="number" asp-for="material.ValorHistorico" placeholder="Valor Historico" class="form-control">
                        <span asp-validation-for="material.ValorHistorico" class="text-danger"></span>
                        
                        <select asp-for="material.Condicion" placeholder="Condicion" class="fields-table" required>
                            <option value="1">Normal</option>
                            <option value="2">Mantenimiento</option>
                        </select>
                        <span asp-validation-for="material.Condicion" class="text-danger"></span>

                        <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId" />
                        <input id="enviar" type="submit" />
                    </div>
                </form>
            </div>
        </div>
        <div class="table-database open">
            <table border="1">
                <thead>
                    <tr>
                        <td><p>Id</p></td>
                        <td><p>Modelo</p></td>
                        <td><p>Descripcion</p></td>
                        <td><p>Año entrada</p></td>
                        <td><p>Marca</p></td>
                        <td><p>Categoria</p></td>
                        <td><p>Plantel</p></td>
                        <td><p>Serie</p></td>
                        <td><p>Valor Historico</p></td>
                        <td><p>Condicion</p></td>
                        <td><p>Eliminar</p></td>
                        <td><p>Modificar</p></td>
                    </tr>
                </thead>
                <tbody>
                    @{using(Almacen db = new ()){
                                if(db.Materiales is null || !db.Materiales.Any()){
                                    <tr>
                                        <td><p class="text-danger">No hay Materiales registradas</p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                    </tr>
                                }
                                else{
                                    foreach(var m in db.Materiales){
                                    <tr>
                                        <td id="id">@m.MaterialId</td>
                                        <td id="campos">@m.Modelo.Nombre</td>
                                        <td id="campos">@m.Descripcion</td>
                                        <td id="campos">@m.YearEntrada</td>
                                        <td id="campos">@m.Marca.Nombre</td>
                                        <td id="campos">@m.Categoria.Nombre</td>
                                        <td id="campos">@m.Plantel.Nombre</td>
                                        <td id="campos">@m.Serie</td>
                                        <td id="campos">@m.ValorHistorico</td>
                                        <td id="campos">@m.Condicion</td>
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="DeleteMaterial">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="materialId" value="@m.MaterialId" />
                                            <button type="submit">Delete</button>
                                        </form>
                                        </td>
                                        <td id="campos" type="hidden">
                                        <form method="POST" asp-page-handler="Update">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="registroId" value="@m.MaterialId" />
                                            <input type="hidden" name="tableId" value="material" />
                                            <button type="submit">Update</button>
                                        </form>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    
    <div class="titles" onclick="toggleContent()">
        <h1><a href="#mantContent">Mantenimiento</a></h1>
    </div>
    <div class="content-container hidden-content open" id="mantContent">
        <div class="insert-database open">
            <div>
                <p>Nueva Mantenimiento</p>
                <form method="POST" asp-page-handler="NewMant">
                    <div class="fields-table">
                        <input asp-for="mantenimiento.Nombre" placeholder="Nombre" class="form-control">
                        <span asp-validation-for="mantenimiento.Nombre" class="text-danger"></span>

                        <input asp-for="mantenimiento.Descripcion" placeholder="Descripcion" class="form-control" required>
                        <span asp-validation-for="mantenimiento.Descripcion" class="text-danger"></span>
                        <span class="text-danger">@Model.ErrorMessage</span>

                        <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId" />
                        <input id="enviar" type="submit" />
                    </div>
                </form>
            </div>
        </div>
        <div class="table-database open" >
            <table border="1">
                <thead>
                    <tr>
                        <td><p>Id</p></td>
                        <td><p>Nombre</p></td>
                        <td><p>Descripcion</p></td>
                        <td><p>Eliminar</p></td>
                        <td><p>Modificar</p></td>
                    </tr>
                </thead>
                <tbody>
                    @{using(Almacen db = new ()){
                                if(db.Mantenimientos is null || !db.Mantenimientos.Any()){
                                    <tr>
                                        <td><p class="text-danger">No hay Mantenimientos registrados</p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                    </tr>
                                }
                                else{
                                    foreach(var c in db.Mantenimientos){
                                    <tr>
                                        <td id="id">@c.MantenimientoId</td>
                                        <td id="campos">@c.Nombre</td>
                                        <td id="campos">@c.Descripcion</td>
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="DeleteMant">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="mantenimientoId" value="@c.MantenimientoId" />
                                            <button type="submit">Delete</button>
                                        </form>
                                        </td>
                                        <td id="campos" type="hidden">
                                        <form method="POST" asp-page-handler="Update">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="registroId" value="@c.MantenimientoId" />
                                            <input type="hidden" name="tableId" value="mantenimiento" />
                                            <button type="submit">Update</button>
                                        </form>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    
    <div class="titles" onclick="toggleContent()">
        <h1><a href="#reportmantContent">Reportes de Mantenimiento</a></h1>
    </div>
    <div class="content-container hidden-content open" id="reportmantContent">
        <div class="insert-database open">
            <div>
                <p>Nueva Reporte de Mantenimiento</p>
                <form method="POST" asp-page-handler="NewReportMant">
                    <div class="fields-table">
                        <input asp-for="reporteMantenimiento.Fecha" placeholder="Nombre" class="form-control">
                        <span asp-validation-for="reporteMantenimiento.Fecha" class="text-danger"></span>

                        <select asp-for="reporteMantenimiento.MantenimientoId" placeholder="Modelo" class="fields-table" required>
                            <option value="">Selecciona un Mantenimiento</option>
                            @{
                                using (Almacen db = new Almacen())
                                {
                                    List<Mantenimiento> mantenimientos = db.Mantenimientos.ToList();
                                    foreach (var c in mantenimientos)
                                    {
                                        <option value="@c.MantenimientoId">@c.Nombre</option>
                                    }
                                }
                            }
                        </select>
                        <span asp-validation-for="reporteMantenimiento.MantenimientoId" class="text-danger"></span>
                        
                        <select asp-for="reporteMantenimiento.MaterialId" placeholder="Modelo" class="fields-table" required>
                            <option value="">Selecciona un Material</option>
                            @{
                                using (Almacen db = new Almacen())
                                {
                                    IQueryable<Material> materiales = db.Materiales.Where(m => m.Condicion == "1");
                                    foreach (var m in materiales)
                                    {
                                        <option value="@m.MaterialId">@m.MaterialId: @m.Categoria.Nombre</option>
                                    }
                                }
                            }
                        </select>
                        <span asp-validation-for="reporteMantenimiento.MaterialId" class="text-danger"></span>
                        <span class="text-danger">@Model.ErrorMessage</span>

                        <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId" />
                        <input id="enviar" type="submit" />
                    </div>
                </form>
            </div>
        </div>
        <div class="table-database open" >
            <table border="1">
                <thead>
                    <tr>
                        <td><p>Id</p></td>
                        <td><p>Fecha</p></td>
                        <td><p>Mantenimiento</p></td>
                        <td><p>Id Material</p></td>
                        <td><p>Material</p></td>
                        <td><p>Eliminar</p></td>
                        <td><p>Modificar</p></td>
                    </tr>
                </thead>
                <tbody>
                    @{using(Almacen db = new ()){
                                if(db.ReporteMantenimientos is null || !db.ReporteMantenimientos.Any()){
                                    <tr>
                                        <td><p class="text-danger">No hay Reportes de Mantenimiento registrados</p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                    </tr>
                                }
                                else{
                                    foreach(var c in db.ReporteMantenimientos){
                                    <tr>
                                        <td id="id">@c.ReporteMantenimientoId</td>
                                        <td id="campos">@c.Fecha</td>
                                        <td id="campos">@c.Mantenimiento.Nombre</td>
                                        <td id="campos">@c.Material.MaterialId</td>
                                        <td id="campos">@c.Material.Categoria.Nombre</td>
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="DeleteReportMant">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="reporteMantenimientoId" value="@c.ReporteMantenimientoId" />
                                            <button type="submit">Delete</button>
                                        </form>
                                        </td>
                                        <td id="campos" type="hidden">
                                        <form method="POST" asp-page-handler="Update">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="registroId" value="@c.ReporteMantenimientoId" />
                                            <input type="hidden" name="tableId" value="reporteMantenimiento" />
                                            <button type="submit">Update</button>
                                        </form>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>

    <div class="titles" onclick="toggleContent()">
        <h1><a href="#grupoContent">Grupos</a></h1>
    </div>
    <div class="content-container hidden-content open" id="grupoContent">
        <div class="insert-database open">
            <div>
                <p>Nuevo grupo</p>
                <form method="POST" asp-page-handler="NewGrupo">
                    <div class="fields-table">
                        <input asp-for="grupo.Nombre" placeholder="Nombre" class="form-control">
                        <span asp-validation-for="grupo.Nombre" class="text-danger"></span>
                        <span class="text-danger">@Model.ErrorMessage</span>

                        <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId" />
                        <input id="enviar" type="submit" />
                    </div>
                </form>
            </div>
        </div>
        <div class="table-database open">
            <table border="1">
                <thead>
                    <tr>
                        <td><p>Id</p></td>
                        <td><p>Nombre</p></td>
                        <td><p>Eliminar</p></td>
                    </tr>
                </thead>
                <tbody>
                    @{using(Almacen db = new ()){
                                if(db.Grupos is null || !db.Grupos.Any()){
                                    <tr>
                                        <td><p class="text-danger">No hay Grupos registrados</p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                    </tr>
                                }
                                else{
                                    foreach(var c in db.Grupos){
                                    <tr>
                                        <td id="id">@c.GrupoId</td>
                                        <td id="campos">@c.Nombre</td>
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="DeleteGrupo">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="grupoId" value="@c.GrupoId" />
                                            <button type="submit">Delete</button>
                                        </form>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>

    <div class="titles" onclick="toggleContent()">
        <h1><a href="#docenteContent">Docentes</a></h1>
    </div>
    <div class="content-container hidden-content open" id="docenteContent">
        <div class="insert-database open">
            <div>
                <p>Nuevo Docente</p>
                <form method="POST" asp-page-handler="NewDocente">
                    <div class="fields-table">

                        <input asp-for="docente.Nombre" placeholder="Nombre" class="form-control" required>
                        <span asp-validation-for="docente.Nombre" class="text-danger"></span>

                        <input asp-for="docente.ApellidoPaterno" placeholder="Apellido paterno" class="form-control" required>
                        <span asp-validation-for="docente.ApellidoPaterno" class="text-danger"></span>

                        <input asp-for="docente.ApellidoMaterno" placeholder="Apellido materno" class="form-control" required>
                        <span asp-validation-for="docente.ApellidoMaterno" class="text-danger"></span>

                        <input asp-for="docente.Correo" placeholder="Correo" class="form-control" required>
                        <span asp-validation-for="docente.Correo" class="text-danger"></span>

                        <select asp-for="docente.PlantelId" class="fields-table" required>
                            <option value="">Selecciona un plantel</option>
                            <option value="1">Colomos</option>
                            <option value="2">Tonála</option>
                            <option value="3">Rio Santiago</option>
                        </select>
                        <span asp-validation-for="docente.PlantelId" class="text-danger"></span>
                        
                        <input asp-for="usuario.Password" placeholder="Contraseña" type="password" id="passwordInput" required>
                        <span asp-validation-for="usuario.Password" class="text-danger"></span>
                        
                        <span class="text-danger">@Model.ErrorMessage</span>
                        <input id="enviar" type="submit" />
                    </div>
                </form>
            </div>
        </div>
        <div class="table-database open" >
            <table border="1">
                <thead>
                    <tr>
                        <td><p>Id</p></td>
                        <td><p>Nombre</p></td>
                        <td><p>Apellido Paterno</p></td>
                        <td><p>Apellido Materno</p></td>
                        <td><p>Correo</p></td>
                        <td><p>Plantel</p></td>
                        <td><p>Eliminar</p></td>
                        <td><p>Modificar</p></td>
                    </tr>
                </thead>
                <tbody>
                    @{using(Almacen db = new ()){
                                if(db.Docentes is null || !db.Docentes.Any()){
                                    <tr>
                                        <td><p class="text-danger">No hay Docentes registradas</p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                    </tr>
                                }
                                else{
                                    foreach(var e in db.Docentes){
                                    <tr>
                                        <td id="id">@e.DocenteId</td>
                                        <td id="campos">@e.Nombre</td>
                                        <td id="campos">@e.ApellidoPaterno</td>
                                        <td id="campos">@e.ApellidoMaterno</td>
                                        <td id="campos">@e.Correo</td>
                                        <td id="campos">@e.Plantel.Nombre</td>
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="DeleteDocente">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="docenteId" value="@e.DocenteId" />
                                            <button type="submit">Delete</button>
                                        </form>
                                        </td>
                                        <td id="campos" type="hidden">
                                        <form method="POST" asp-page-handler="Update">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="registroId" value="@e.DocenteId" />
                                            <input type="hidden" name="tableId" value="docente" />
                                            <button type="submit">Update</button>
                                        </form>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    
    <div class="titles" onclick="toggleContent()">
        <h1><a href="#alumnoContent">Alumnos</a></h1>
    </div>
    <div class="content-container hidden-content open" id="alumnoContent">
        <div class="insert-database open">
            <div>
                <p>Nuevo Estudiante</p>
                <form method="POST" asp-page-handler="NewEstudiante">
                    <div class="fields-table">
                        <input asp-for="estudiante.EstudianteId" placeholder="Registro" class="form-control" required>
                        <span asp-validation-for="estudiante.EstudianteId" class="text-danger"></span>

                        <input asp-for="estudiante.Nombre" placeholder="Nombre" class="form-control" required>
                        <span asp-validation-for="estudiante.Nombre" class="text-danger"></span>

                        <input asp-for="estudiante.ApellidoPaterno" placeholder="Apellido paterno" class="form-control" required>
                        <span asp-validation-for="estudiante.ApellidoPaterno" class="text-danger"></span>

                        <input asp-for="estudiante.ApellidoMaterno" placeholder="Apellido materno" class="form-control" required>
                        <span asp-validation-for="estudiante.ApellidoMaterno" class="text-danger"></span>

                        <select id="list" asp-for="estudiante.SemestreId" class="fields-table" required>
                            <option value="">Selecciona un semestre</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                        </select>
                        <span asp-validation-for="estudiante.SemestreId" class="text-danger"></span>

                        <select asp-for="estudiante.GrupoId" placeholder="Grupo" class="fields-table" required>
                            @{
                                using (Almacen db = new Almacen())
                                {
                                    List<Grupo> grupos = db.Grupos.ToList();

                                    foreach (var grupo in grupos)
                                    {
                                        <option value="@grupo.GrupoId">@grupo.Nombre</option>
                                    }
                                }
                            }
                        </select>
                        <span asp-validation-for="estudiante.GrupoId" class="text-danger"></span>

                        <input asp-for="estudiante.Correo" placeholder="Correo" class="form-control" required>
                        <span asp-validation-for="estudiante.Correo" class="text-danger"></span>

                        <select asp-for="estudiante.PlantelId" class="fields-table" required>
                            <option value="">Selecciona un plantel</option>
                            <option value="1">Colomos</option>
                            <option value="2">Tonála</option>
                            <option value="3">Rio Santiago</option>
                        </select>
                        <span asp-validation-for="estudiante.PlantelId" class="text-danger"></span>
                        
                        <input asp-for="usuario.Password" placeholder="Contraseña" type="password" id="passwordInput" required>
                        <span asp-validation-for="usuario.Password" class="text-danger"></span>
                        
                        <span class="text-danger">@Model.ErrorMessage</span>
                        <input id="enviar" type="submit" />
                    </div>
                </form>
            </div>
        </div>
        <div class="table-database open" >
            <table border="1">
                <thead>
                    <tr>
                        <td><p>Id</p></td>
                        <td><p>Nombre</p></td>
                        <td><p>Apellido Paterno</p></td>
                        <td><p>Apellido Materno</p></td>
                        <td><p>Semestre</p></td>
                        <td><p>Grupo</p></td>
                        <td><p>Adeudo</p></td>
                        <td><p>Correo</p></td>
                        <td><p>Plantel</p></td>
                        <td><p>Eliminar</p></td>
                        <td><p>Modificar</p></td>
                    </tr>
                </thead>
                <tbody>
                    @{using(Almacen db = new ()){
                                if(db.Estudiantes is null || !db.Estudiantes.Any()){
                                    <tr>
                                        <td><p class="text-danger">No hay Modelos registradas</p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                    </tr>
                                }
                                else{
                                    foreach(var e in db.Estudiantes){
                                    <tr>
                                        <td id="id">@e.EstudianteId</td>
                                        <td id="campos">@e.Nombre</td>
                                        <td id="campos">@e.ApellidoPaterno</td>
                                        <td id="campos">@e.ApellidoMaterno</td>
                                        <td id="campos">@e.SemestreId</td>
                                        <td id="campos">@e.Grupo.Nombre</td>
                                        <td id="campos">@e.Adeudo</td>
                                        <td id="campos">@e.Correo</td>
                                        <td id="campos">@e.Plantel.Nombre</td>
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="DeleteEstudiante">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="estudianteId" value="@e.EstudianteId" />
                                            <button type="submit">Delete</button>
                                        </form>
                                        </td>
                                        <td id="campos" type="hidden">
                                        <form method="POST" asp-page-handler="Update">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="registroId" value="@e.EstudianteId" />
                                            <input type="hidden" name="tableId" value="estudiante" />
                                            <button type="submit">Update</button>
                                        </form>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    <div class="titles" onclick="toggleContent()">
        <h1><a href="#almacenistaContent">Almacenistas</a></h1>
    </div>
    <div class="content-container hidden-content open" id="almacenistaContent">
        <div class="insert-database open">
            <div>
                <p>Nuevo Almacenista</p>
                <form method="POST" asp-page-handler="NewAlmacenista">
                    <div class="fields-table">

                        <input asp-for="almacenista.Nombre" placeholder="Nombre" class="form-control" required>
                        <span asp-validation-for="almacenista.Nombre" class="text-danger"></span>

                        <input asp-for="almacenista.ApellidoPaterno" placeholder="Apellido paterno" class="form-control" required>
                        <span asp-validation-for="almacenista.ApellidoPaterno" class="text-danger"></span>

                        <input asp-for="almacenista.ApellidoMaterno" placeholder="Apellido materno" class="form-control" required>
                        <span asp-validation-for="almacenista.ApellidoMaterno" class="text-danger"></span>

                        <input asp-for="almacenista.Correo" placeholder="Correo" class="form-control" required>
                        <span asp-validation-for="almacenista.Correo" class="text-danger"></span>

                        <select asp-for="almacenista.PlantelId" class="fields-table" required>
                            <option value="">Selecciona un plantel</option>
                            <option value="1">Colomos</option>
                            <option value="2">Tonála</option>
                            <option value="3">Rio Santiago</option>
                        </select>
                        <span asp-validation-for="almacenista.PlantelId" class="text-danger"></span>
                        
                        <input asp-for="usuario.Password" placeholder="Contraseña" type="password" id="passwordInput" required>
                        <span asp-validation-for="usuario.Password" class="text-danger"></span>
                        
                        <span class="text-danger">@Model.ErrorMessage</span>
                        <input id="enviar" type="submit" />
                    </div>
                </form>
            </div>
        </div>
        <div class="table-database open" >
            <table border="1">
                <thead>
                    <tr>
                        <td><p>Id</p></td>
                        <td><p>Nombre</p></td>
                        <td><p>Apellido Paterno</p></td>
                        <td><p>Apellido Materno</p></td>
                        <td><p>Correo</p></td>
                        <td><p>Plantel</p></td>
                        <td><p>Eliminar</p></td>
                        <td><p>Modificar</p></td>
                    </tr>
                </thead>
                <tbody>
                    @{using(Almacen db = new ()){
                                if(db.Almacenistas is null || !db.Almacenistas.Any()){
                                    <tr>
                                        <td><p class="text-danger">No hay Almacenistas registradas</p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                    </tr>
                                }
                                else{
                                    foreach(var e in db.Almacenistas){
                                    <tr>
                                        <td id="id">@e.AlmacenistaId</td>
                                        <td id="campos">@e.Nombre</td>
                                        <td id="campos">@e.ApellidoPaterno</td>
                                        <td id="campos">@e.ApellidoMaterno</td>
                                        <td id="campos">@e.Correo</td>
                                        <td id="campos">@e.Plantel.Nombre</td>
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="DeleteAlmacenista">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="almacenistaId" value="@e.AlmacenistaId" />
                                            <button type="submit">Delete</button>
                                        </form>
                                        </td>
                                        <td id="campos" type="hidden">
                                        <form method="POST" asp-page-handler="Update">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="registroId" value="@e.AlmacenistaId" />
                                            <input type="hidden" name="tableId" value="almacenista" />
                                            <button type="submit">Update</button>
                                        </form>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    <div class="titles" onclick="toggleContent()">
        <h1><h1><a href="#MPContent">Materiales Prestados</a></h1>
    </div>
        <div class="table-database hidden-content open" id="MPContent">
            <table border="1">
                <thead>
                    <tr>
                        <td><p>Id</p></td>
                        <td><p>Modelo</p></td>
                        <td><p>Descripcion</p></td>
                        <td><p>Año entrada</p></td>
                        <td><p>Marca</p></td>
                        <td><p>Categoria</p></td>
                        <td><p>Plantel</p></td>
                        <td><p>Serie</p></td>
                        <td><p>Valor Historico</p></td>
                        <td><p>Condicion</p></td>
                        <td><p>Entrega</p></td>
                    </tr>
                </thead>
                <tbody>
                    @{using(Almacen db = new ()){
                            IQueryable<Material>? materiales = db.Materiales.Where(m => m.Condicion == "2");
                                if(materiales is null || !materiales.Any()){
                                    <tr>
                                        <td><p class="text-danger">No hay materiales prestados</p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                        <td><p></p></td>
                                    </tr>
                                }
                                else{
                                    foreach(var m in materiales){
                                    <tr>
                                        <td id="id">@m.MaterialId</td>
                                        <td id="campos">@m.Modelo.Nombre</td>
                                        <td id="campos">@m.Descripcion</td>
                                        <td id="campos">@m.YearEntrada</td>
                                        <td id="campos">@m.Marca.Nombre</td>
                                        <td id="campos">@m.Categoria.Nombre</td>
                                        <td id="campos">@m.Plantel.Nombre</td>
                                        <td id="campos">@m.Serie</td>
                                        <td id="campos">@m.ValorHistorico</td>
                                        <td id="campos">@m.Condicion</td>
                                        <td id="campos">
                                        <form method="POST" asp-page-handler="Entrega">
                                            <input type="hidden" name="coordinadorId" value="@Model.coordinador.CoordinadorId"/>
                                            <input type="hidden" name="registroId" value="@m.MaterialId" />
                                            <button type="submit">Entrega</button>
                                        </form>
                                        </td>
                                    </tr>
                                }
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
</body>
</html>